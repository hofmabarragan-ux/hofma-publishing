---
interface Props {
	title: string;
	description: string;
	price?: string;
	imageUrl: string;
	amazonUrl: string;
	badge?: string;
}

const { title, description, price, imageUrl, amazonUrl, badge } = Astro.props;
---

<article class="group relative flex flex-col bg-white border border-stone-200/80 rounded-xl overflow-hidden shadow-sm hover:shadow-xl hover:shadow-amber-900/5 transition-all duration-300">
	{badge && (
		<span class="absolute top-4 right-4 z-10 px-3 py-1 bg-amber-900 text-amber-50 text-[10px] font-semibold uppercase tracking-wider rounded-md">
			{badge}
		</span>
	)}
	<div class="aspect-[2/3] bg-stone-100 overflow-hidden">
		<img
			src={imageUrl}
			alt={title}
			width="400"
			height="600"
			class="w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-500"
			onerror="this.style.display='none';this.nextElementSibling?.classList.remove('hidden');"
		/>
		<div class="hidden flex w-full h-full items-center justify-center text-stone-400 text-sm p-6 text-center bg-stone-100">
			<span>Book Cover</span>
		</div>
	</div>
	<div class="p-6 flex flex-col flex-1">
		<h3 class="font-serif text-xl font-semibold text-stone-900 mb-2 leading-tight">
			{title}
		</h3>
		{price && (
			<p class="text-amber-900 font-semibold text-sm mb-2">{price}</p>
		)}
		<p class="text-stone-500 text-sm leading-relaxed mb-6 flex-1">
			{description}
		</p>
		<a
			href={amazonUrl}
			target="_blank"
			rel="noopener noreferrer"
			class="inline-flex items-center justify-center w-full py-3 px-5 bg-amber-900 hover:bg-amber-800 !text-white font-medium text-sm rounded-lg transition-colors duration-200"
		>
			Buy on Amazon â†’
		</a>
	</div>
</article>
